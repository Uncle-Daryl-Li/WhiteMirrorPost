# MirrorPost AI - Version 3 独立项目

<div align="center">

**这是一个完整独立的项目文件夹**

基于 HTML + FastAPI + Google Gemini API

</div>

---

## 📦 项目特点

✅ **完全独立** - 所有文件都在此文件夹内，无外部依赖
✅ **即开即用** - 配置API Key后可直接启动
✅ **现代UI** - 极光动画、霓虹光效、流畅交互
✅ **AI驱动** - Google Gemini 3 Pro 图像生成

---

## 📁 项目结构

```
Version3/
│
├── 🌐 前端文件
│   ├── Landing page.html      # 登录/首页
│   └── SaaS.html              # 主工作区
│
├── 🐍 后端文件
│   ├── backend.py             # 核心生成逻辑
│   └── server.py              # FastAPI API服务器
│
├── ⚙️ 配置文件
│   ├── .env                   # 环境变量（API Key）
│   └── requirements.txt       # Python依赖列表
│
├── 🚀 启动脚本
│   ├── 一键启动.bat            # 自动启动前后端
│   ├── start_backend.bat      # 后端启动脚本
│   └── start_frontend.bat     # 前端启动脚本
│
├── 📖 文档
│   ├── README.md              # 完整教程
│   ├── 快速启动.txt            # 快速参考
│   ├── frontend-backend_problem.md  # 技术文档
│   └── 项目说明.md             # 本文件
│
├── 🧪 测试工具
│   └── test_connection.py     # 连接测试脚本
│
├── 📁 输出目录
│   └── generated_posters/     # 生成的海报保存位置
│
└── 🎨 资源文件
    ├── logo.png               # Logo图片（需自行添加）
    └── logo说明.txt            # Logo准备指南
```

---

## 🚀 快速启动（3步）

### 步骤1：配置API Key

```bash
# 编辑 .env 文件
notepad .env

# 添加以下内容（替换为你的实际Key）
GOOGLE_API_KEY=你的API_Key
```

获取API Key: https://aistudio.google.com/app/apikey

### 步骤2：安装依赖

```bash
# 在当前文件夹（Version3）打开命令行
pip install -r requirements.txt
```

### 步骤3：启动项目

**方式1 - 一键启动（推荐）**:
```bash
双击：一键启动.bat
```

**方式2 - 分步启动**:
```bash
# 双击启动后端
start_backend.bat

# 双击启动前端（新窗口）
start_frontend.bat

# 浏览器访问
http://localhost:8080/Landing page.html
```

---

## ⚙️ 依赖说明

本项目需要以下Python包（已在 requirements.txt 中）：

```
fastapi>=0.115.0           # Web框架
uvicorn[standard]>=0.30.0  # ASGI服务器
pydantic>=2.0.0            # 数据验证
python-dotenv>=1.0.0       # 环境变量管理
google-genai>=0.3.0        # Google AI SDK
Pillow>=10.0.0             # 图像处理
```

安装命令：
```bash
pip install -r requirements.txt
```

---

## 🔧 配置说明

### .env 文件

```bash
# Google API Key（必填）
GOOGLE_API_KEY=AIzaSy...你的实际Key

# 可选配置（如需修改）
# SERVER_PORT=8000
# FRONTEND_PORT=8080
```

### 端口配置

**后端端口**: 8000（可在 server.py 最后一行修改）
**前端端口**: 8080（可在 start_frontend.bat 中修改）

---

## 📝 使用说明

### 1. 登录页面 (Landing page.html)

- 展示品牌形象
- 点击"实现创想"进入工作区
- 支持注册/登录（本地存储）

### 2. 工作区页面 (SaaS.html)

**左侧边栏**:
- 生成设置：纵横比、生成数量
- 风格库：4种预设风格
- 素材管理：Logo、二维码上传（暂未实现）

**主区域**:
- 输入海报描述
- 切换 Thinking/Fast 模式
- 查看生成结果

---

## 🌟 功能特性

| 功能 | 状态 | 说明 |
|------|------|------|
| 文字生成海报 | ✅ 完成 | 输入描述生成海报 |
| 批量生成 | ✅ 完成 | 1-10张 |
| 多种纵横比 | ✅ 完成 | 9:16, 16:9, 1:1等 |
| 风格预设 | ✅ 完成 | Auto, Minimalist, Tech, Hand-drawn |
| Thinking模式 | ✅ 完成 | 深度思考vs快速生成 |
| 图生图 | ⏳ 待开发 | 上传参考图片 |
| Logo/二维码 | ⏳ 待开发 | 素材叠加 |
| 历史记录 | ⏳ 待开发 | 查看生成历史 |

---

## ⚠️ 注意事项

### 1. Logo图片缺失

项目引用了 `logo.png`，但未包含在文件夹中。

**影响**: 页面顶部Logo不显示（不影响功能）

**解决方案**:
- 查看 `logo说明.txt` 获取详细指引
- 或保持现状（不影响使用）

### 2. CORS配置

前端必须通过HTTP服务器访问（不能直接双击HTML）。

**正确**: `http://localhost:8080/Landing page.html`
**错误**: `file:///D:/WhiteMirror/Post/Version3/Landing page.html`

### 3. API调用时间

- Fast模式：约10-20秒/张
- Thinking模式：约30-60秒/张
- 首次调用可能更慢

---

## 🐛 常见问题

### Q1: 提示"Failed to fetch"？

**原因**: 后端未启动或CORS错误

**解决**:
1. 确认后端正在运行（访问 http://localhost:8000）
2. 确认前端通过HTTP服务器打开
3. 检查控制台（F12）错误信息

### Q2: API Key错误？

**解决**:
1. 检查 `.env` 文件格式
2. 确保无多余空格或引号
3. 重启后端服务器

### Q3: 端口被占用？

**解决**:
```bash
# 查看占用进程
netstat -ano | findstr :8000

# 结束进程
taskkill /PID <进程ID> /F

# 或修改端口（见配置说明）
```

完整问题文档请查看：`frontend-backend_problem.md`

---

## 🔄 版本历史

### Version 3.0 (2025-12-30)
- ✨ 独立项目文件夹
- 🎨 全新HTML前端界面
- 🔌 前后端分离架构
- 📱 响应式设计
- 🚀 一键启动脚本

---

## 📞 获取帮助

遇到问题？查阅以下文档：

1. **快速启动.txt** - 快速参考指南
2. **README.md** - 完整教程
3. **frontend-backend_problem.md** - 技术问题详解

---

## 🎯 下一步

启动成功后：

1. 在输入框输入描述，例如：
   ```
   赛博朋克风格的城市夜景，霓虹灯光，未来感建筑
   ```

2. 调整侧边栏设置（可选）

3. 点击生成按钮（上箭头图标）

4. 等待AI生成海报

5. 查看结果并下载

---

<div align="center">

**这是一个完全独立的项目，可以直接部署！**

Made with ❤️ for MirrorPost AI

</div>
